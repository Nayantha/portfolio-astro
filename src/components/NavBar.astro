---
import avatar from "/avatar.png"
const hamburger_menu_size = 100
function changeHamburgerMenuState(element) {
    const polyLineArray = element.getElementsByTagName("polyline")
    switch (element.dataset.clicked) {
        case "false":
            for (let i = 0; i < polyLineArray.length; i++) {
                polyLineArray[i].classList.remove("normal-state")
                polyLineArray[i].classList.add("st2")
            }
            element.dataset.clicked = true.toString()
            break
        case "true":
            for (let i = 0; i < polyLineArray.length; i++) {
                polyLineArray[i].classList.add("normal-state")
                polyLineArray[i].classList.remove("st2")
            }
            element.dataset.clicked = false.toString()
    }
}
---
<nav data-toggled="false">
    <svg width="250" height={4} viewBox="0 0 250 4" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 2L450 2" stroke="#282828" stroke-linecap="round"/>
    </svg>
    <div>
        <img src={avatar} alt="avatar.png">
        <h1><a href="/">Hua.</a></h1>
        <svg width={hamburger_menu_size} height={hamburger_menu_size} viewBox="0 0 100 100" fill="none"
             xmlns="http://www.w3.org/2000/svg" data-clicked="false" onclick="changeHamburgerMenuState(this)">
            <polyline id="top" class="line normal-state" points="75,35 25,35 75,75 "/>
            <line id="middle" class="line" x1="25" y1="50" x2="75" y2="50"/>
            <polyline id="bottom" class="line normal-state" points="75,65 25,65 75,25 "/>
        </svg>
    </div>
</nav>
<style>
    nav {
        position: relative;
        margin-inline: 8px;
        margin-bottom: 24px;
    }

    nav h1 {
        font-size: large;
        font-weight: bold;
    }

    .line {
        fill: none;
        stroke: #000000;
        stroke-width: 5;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    polyline.normal-state {
        transition: 1s;
        stroke-dasharray: 50 70.71067810058594;
    }

    polyline.clicked-state {
        transition: 1s;
        stroke-dasharray: 70.71067810058594;
        stroke-dashoffset: -50;
    }
</style>